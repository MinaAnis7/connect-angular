<div class="header d-flex justify-content-between">
  <h2 mat-dialog-title>Comments</h2>
  <fa-icon
    [icon]="['fas', 'xmark']"
    class="mx-4 d-flex align-items-center"
    mat-dialog-close
  />
</div>

<hr class="devider" />

<mat-dialog-content class="mat-typography">
  <ul class="list-group">
    @for (commentData of comments(); track commentData.id) {
    <li class="list-group-item px-0 border-0 d-flex gap-2 align-items-start">
      <img
        [src]="commentData.from.profileImage"
        alt="Commenter Image"
        class="commenter-img rounded-circle"
      />

      <p class="comment-txt rounded-4 py-2 px-3">
        <span class="commenter-name d-block mb-1">{{
          commentData.from.fName + " " + commentData.from.lName
        }}</span>
        <app-read-more [text]="commentData.comment" />
      </p>
    </li>
    } @empty {
    <p class="fallback-text">There are no comments yet.</p>
    }
  </ul>
</mat-dialog-content>

<mat-dialog-actions align="start">
  <div class="add-comment d-flex align-items-center w-100 gap-3">
    <img
      [src]="currentUser()?.profileImage"
      alt="My Profile Image"
      class="my-img rounded-circle object-fit-cover"
    />

    <div class="flex-grow-1 comment-ctrl rounded-4">
      <input
        type="text"
        class="w-100 d-block border-0 bg-transparent"
        placeholder="Type your comment..."
        #comment
      />
    </div>

    <button
      class="btn send-btn border-0"
      title="Comment"
      (click)="onComment(comment)"
    >
      <fa-icon [icon]="['fas', 'paper-plane']" class="send-icon"></fa-icon>
    </button>
  </div>
</mat-dialog-actions>
